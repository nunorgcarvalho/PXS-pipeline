# Behavioral Risk Score (BRS) for Type 2 Diabetes

## Input files:

Software needed (and specific version used; other versions may work too):

-   `R 4.1.2` with packages `tidyverse`, `data.table`, `callr`, `missMDA`, `GenomicRanges`, `gt`, and `ggrepel`

-   `BOLT-LMM v2.3.2`

-   `LDsc v1.0.1`

-   `PHESANT`: <https://github.com/MRCIEU/PHESANT>

Inside of `input_data/`:

-   `BOLT_tbl.csv`: table of BOLT-REML and BOLT-LMM analyses that are run. Largely supplemental.

-   `CRFs_table.txt`: table of clinical risk factors for T2D.

-   `term_shortnames.tsv`: table of shortened, legible individual behavior names, specific to the behaviors that came up as significant in our analysis. Used for plotting and reporting results.

-   `UKBB_exposures.txt`: table of all exposure-related fields in UKBB. Those with `Exposure_Class=='agency'` are considered behaviors for this project.

-   `bolt.in_plink_but_not_imputed.FID_IID.978.txt`: (not provided in repository) list of missing imputed individuals generated by BOLT the first you run it. You can either rename your file to match the `978` number or manually edit the scripts to reference your specific file. (The `978` in this case refers to how many individuals are in the file, and is automatically named that way by BOLT).

-   `AMP_T2D_gene_table.csv`: (not provided in repository) downloaded from [AMP](https://hugeamp.org/phenotype.html?phenotype=T2D) under "Top common variant gene-level associations for Type 2 diabetes".

Define your specific project and data paths inside of `code/00_paths.R`


## Order of scripts to run (inside `code/`)

Scripts are named in the order that they should be run. For example, a script whose name begins with '03' needs to be run after at least one of the scripts named '02'. Scripts with the same number in the name can be run in parallel/random order, e.g. '03a' and '03b'.

## Other

Why is this repository named PXS-pipeline? In previous iterations of this project, we used the name "exposure" to refer to a broader set of environmental factors, including behaviors. Thus, we named our risk score the "PolyeXposure Score". We've since chosen to just focus on behaviors.